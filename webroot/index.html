<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>The best realtime auctions!</title>

    <script src="//cdn.jsdelivr.net/sockjs/0.3.4/sockjs.min.js"></script>
    <script src="js/vertx-eventbus.js"></script>
</head>

<body onload="init();">
<div>
    events:
    <pre id="feed"></pre>
</div>

<script>
    function init() {
        var eventBus = new EventBus('/eventbus');
        eventBus.onopen = function () {
            var registry = function (error, message) {
                var msg = JSON.stringify(message.body);
                document.getElementById('feed').innerHTML += msg + '\n';
            };
            eventBus.registerHandler('bot.dcc.finish', registry);
            eventBus.registerHandler('bot.dcc.fail', registry);
            eventBus.registerHandler('bot.init', registry);
            eventBus.registerHandler('bot.notice', registry);
            eventBus.registerHandler('bot.fail', registry);
            eventBus.registerHandler('bot.exit', registry);
            eventBus.registerHandler('stats', registry);
        }
    }

</script>


</body>

</html>
